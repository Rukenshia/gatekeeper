<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Gatekeeper</title>
    <link rel="stylesheet" href="<%= static_path(@conn, "/css/app.css") %>">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </head>

  <body class="gk-typography">
    <div class="mdc-snackbar"
        aria-live="assertive"
        aria-atomic="true"
        aria-hidden="true">
      <div class="mdc-snackbar__text"></div>
      <div class="mdc-snackbar__action-wrapper">
        <button type="button" class="mdc-snackbar__action-button"></button>
      </div>
    </div>
      <aside id="gk-error-dialog"
        class="mdc-dialog"
        role="alertdialog"
        aria-labelledby="gk-error-dialog-label"
        aria-describedby="gk-error-dialog-description">
        <div class="mdc-dialog__surface">
          <header class="mdc-dialog__header">
            <h2 id="gk-error-dialog-label" class="mdc-dialog__header__title gk-typography--color__error">
              An error has occured
            </h2>
          </header>
          <section id="gk-error-dialog-description" class="mdc-dialog__body">
            <%= get_flash(@conn, :error) %>
            Some text
          </section>
          <footer class="mdc-dialog__footer">
            <button type="button" class="mdc-button gk-button__error mdc-dialog__footer__button mdc-dialog__footer__button--accept">Okay</button>
          </footer>
        </div>
        <div class="mdc-dialog__backdrop"></div>
      </aside>

    <div class="mdc-layout-grid">
      <div class="mdc-layout-grid__inner">
        <div class="mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-2-tablet"></div>
        <div class="mdc-layout-grid__cell--span-10-desktop mdc-layout-grid__cell--span-10-tablet mdc-layout-grid__cell--span-12-phone">
          <main role="main">
            <%= render @view_module, @view_template, assigns %>
          </main>
        </div>
      </div>
    </div>
    <script src="<%= static_path(@conn, "/js/app.js") %>"></script>
    <script>
        <%= if get_flash(@conn, :info) do %>
          window.snackbar.show({
            message: <%= {:safe, Poison.encode! get_flash(@conn, :info)} %>
          });
        <% end %>
    </script>
  </body>
</html>
